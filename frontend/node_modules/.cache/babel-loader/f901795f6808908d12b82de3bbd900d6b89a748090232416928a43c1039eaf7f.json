{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport CityResponse from \"../classes/CityResponse\";\nexport default function useLoadSnowResults(props) {\n  _s();\n  const {\n    message\n  } = props;\n  const [citiesWithSnow, setCitiesWithSnow] = useState(0);\n  const [loadedNumber, setLoadedNumber] = useState(0);\n  const [toLoadNumber, setToLoadNumber] = useState(0);\n  const [log, setLog] = useState('');\n  const [city, setCity] = useState(new CityResponse());\n  useEffect(() => {\n    console.log(message);\n    if (message[0] === 'X' || message[0] === 'O') {\n      const m = message.split(',');\n      const cityProps = new CityResponse(m[0] === 'X', m[1], m[2], parseInt(m[3]), parseInt(m[4]), parseInt(m[5]));\n      setCity(cityProps);\n      if (cityProps.hasSnow) {\n        setCitiesWithSnow(prev => ++prev);\n        setLog(prev => prev + '\\n' + cityProps.toString());\n      }\n      setLoadedNumber(prev => ++prev);\n    } else if (message.indexOf(' results') !== -1) {\n      setToLoadNumber(Number(message.substring(0, message.indexOf(' '))));\n    } else {\n      setLog(prev => prev + '\\n' + message);\n    }\n  }, [message]);\n  const reset = () => {\n    setCitiesWithSnow(0);\n    setLoadedNumber(0);\n    setToLoadNumber(0);\n    setLog('');\n  };\n  return {\n    citiesWithSnow,\n    loadedNumber,\n    toLoadNumber,\n    log,\n    city,\n    reset\n  };\n}\n_s(useLoadSnowResults, \"+i/hNSpzIAxXV8QU2Uv2oM1N7eU=\");","map":{"version":3,"names":["useEffect","useState","CityResponse","useLoadSnowResults","props","_s","message","citiesWithSnow","setCitiesWithSnow","loadedNumber","setLoadedNumber","toLoadNumber","setToLoadNumber","log","setLog","city","setCity","console","m","split","cityProps","parseInt","hasSnow","prev","toString","indexOf","Number","substring","reset"],"sources":["C:/Users/paulm/Documents/Local Programming/Websites/SnowFinder/frontend/src/hooks/useParseSnowResults.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport CityResponse from \"../classes/CityResponse\";\r\n\r\nexport default function useLoadSnowResults (props: { message: string }) {\r\n\r\n    const { message } = props;\r\n\r\n    const [citiesWithSnow, setCitiesWithSnow] = useState(0);\r\n    const [loadedNumber, setLoadedNumber] = useState(0);\r\n    const [toLoadNumber, setToLoadNumber] = useState(0);\r\n    const [log, setLog] = useState('');\r\n    const [city, setCity] = useState(new CityResponse());\r\n\r\n    useEffect(() => {\r\n\r\n        console.log(message);\r\n\r\n        if (message[0] === 'X' || message[0] === 'O') {\r\n            const m = message.split(',');\r\n            const cityProps = new CityResponse(\r\n                m[0] === 'X', m[1], m[2], parseInt(m[3]), parseInt(m[4]), parseInt(m[5])\r\n            );\r\n            setCity(cityProps);\r\n\r\n            if (cityProps.hasSnow) {\r\n                setCitiesWithSnow(prev => ++prev);\r\n                setLog(prev => prev + '\\n' + cityProps.toString());\r\n            }\r\n            setLoadedNumber(prev => ++prev);\r\n        } else if (message.indexOf(' results') !== -1) {\r\n            setToLoadNumber(Number(message.substring(0, message.indexOf(' '))));\r\n        } else {\r\n            setLog(prev => prev + '\\n' + message);\r\n        }\r\n    }, [message]);\r\n\r\n    const reset = () => {\r\n        setCitiesWithSnow(0);\r\n        setLoadedNumber(0);\r\n        setToLoadNumber(0);\r\n        setLog('');\r\n    }\r\n\r\n    return {\r\n        citiesWithSnow,\r\n        loadedNumber,\r\n        toLoadNumber,\r\n        log,\r\n        city,\r\n        reset\r\n    }\r\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,YAAY,MAAM,yBAAyB;AAElD,eAAe,SAASC,kBAAkBA,CAAEC,KAA0B,EAAE;EAAAC,EAAA;EAEpE,MAAM;IAAEC;EAAQ,CAAC,GAAGF,KAAK;EAEzB,MAAM,CAACG,cAAc,EAAEC,iBAAiB,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAM,CAACQ,YAAY,EAAEC,eAAe,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAACU,YAAY,EAAEC,eAAe,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAACY,GAAG,EAAEC,MAAM,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACc,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,IAAIC,YAAY,EAAE,CAAC;EAEpDF,SAAS,CAAC,MAAM;IAEZiB,OAAO,CAACJ,GAAG,CAACP,OAAO,CAAC;IAEpB,IAAIA,OAAO,CAAC,CAAC,CAAC,KAAK,GAAG,IAAIA,OAAO,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;MAC1C,MAAMY,CAAC,GAAGZ,OAAO,CAACa,KAAK,CAAC,GAAG,CAAC;MAC5B,MAAMC,SAAS,GAAG,IAAIlB,YAAY,CAC9BgB,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEG,QAAQ,CAACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEG,QAAQ,CAACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEG,QAAQ,CAACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAC3E;MACDF,OAAO,CAACI,SAAS,CAAC;MAElB,IAAIA,SAAS,CAACE,OAAO,EAAE;QACnBd,iBAAiB,CAACe,IAAI,IAAI,EAAEA,IAAI,CAAC;QACjCT,MAAM,CAACS,IAAI,IAAIA,IAAI,GAAG,IAAI,GAAGH,SAAS,CAACI,QAAQ,EAAE,CAAC;MACtD;MACAd,eAAe,CAACa,IAAI,IAAI,EAAEA,IAAI,CAAC;IACnC,CAAC,MAAM,IAAIjB,OAAO,CAACmB,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE;MAC3Cb,eAAe,CAACc,MAAM,CAACpB,OAAO,CAACqB,SAAS,CAAC,CAAC,EAAErB,OAAO,CAACmB,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACvE,CAAC,MAAM;MACHX,MAAM,CAACS,IAAI,IAAIA,IAAI,GAAG,IAAI,GAAGjB,OAAO,CAAC;IACzC;EACJ,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEb,MAAMsB,KAAK,GAAGA,CAAA,KAAM;IAChBpB,iBAAiB,CAAC,CAAC,CAAC;IACpBE,eAAe,CAAC,CAAC,CAAC;IAClBE,eAAe,CAAC,CAAC,CAAC;IAClBE,MAAM,CAAC,EAAE,CAAC;EACd,CAAC;EAED,OAAO;IACHP,cAAc;IACdE,YAAY;IACZE,YAAY;IACZE,GAAG;IACHE,IAAI;IACJa;EACJ,CAAC;AACL;AAACvB,EAAA,CAhDuBF,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}