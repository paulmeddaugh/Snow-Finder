{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\n;\nconst cityPropMap = ['hasSnow', 'name', 'state', 'snowDepth', 'temp', 'radius'];\nexport default function useLoadSnowResults(props) {\n  _s();\n  const {\n    message\n  } = props;\n  const [citiesWithSnow, setCitiesWithSnow] = useState(0);\n  const [loadedNumber, setLoadedNumber] = useState(0);\n  const [toLoadNumber, setToLoadNumber] = useState(0);\n  const [otherMessage, setOtherMessage] = useState('');\n  const [city, setCity] = useState({});\n  useEffect(() => {\n    if (message[0] === 'X' || message[0] === 'O') {\n      const cityProps = {};\n      for (let val of message.split(',')) {\n        cityProps[`${cityPropMap.shift()}`] = val;\n      }\n      setCity(cityProps);\n      if (cityProps.hasSnow) setCitiesWithSnow(prev => ++prev);\n      setLoadedNumber(prev => ++prev);\n    } else if (message.indexOf(' results') !== -1) {\n      setToLoadNumber(Number(message.substring(0, message.indexOf(' '))));\n    } else {\n      setOtherMessage(message);\n    }\n  }, [message]);\n  const reset = () => {\n    setCitiesWithSnow(0);\n    setLoadedNumber(0);\n    setToLoadNumber(0);\n    setOtherMessage('');\n  };\n  return {\n    citiesWithSnow,\n    loadedNumber,\n    toLoadNumber,\n    otherMessage,\n    city,\n    reset\n  };\n}\n_s(useLoadSnowResults, \"Wvsyp1DR+RRvtC+2m0F24CK5TFA=\");","map":{"version":3,"names":["useEffect","useState","cityPropMap","useLoadSnowResults","props","_s","message","citiesWithSnow","setCitiesWithSnow","loadedNumber","setLoadedNumber","toLoadNumber","setToLoadNumber","otherMessage","setOtherMessage","city","setCity","cityProps","val","split","shift","hasSnow","prev","indexOf","Number","substring","reset"],"sources":["C:/Users/paulm/Documents/Local Programming/Websites/SnowFinder/frontend/src/hooks/useLoadSnowResults.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\ninterface useLoadSnowResultsProps {\r\n    message: string;\r\n};\r\n\r\nconst cityPropMap: string[] = ['hasSnow', 'name', 'state', 'snowDepth', 'temp', 'radius'];\r\n\r\nexport default function useLoadSnowResults (props: useLoadSnowResultsProps) {\r\n\r\n    const { message } = props;\r\n\r\n    const [citiesWithSnow, setCitiesWithSnow] = useState(0);\r\n    const [loadedNumber, setLoadedNumber] = useState(0);\r\n    const [toLoadNumber, setToLoadNumber] = useState(0);\r\n    const [otherMessage, setOtherMessage] = useState('');\r\n    const [city, setCity] = useState({});\r\n\r\n    useEffect(() => {\r\n        if (message[0] === 'X' || message[0] === 'O') {\r\n            const cityProps: any = {};\r\n            for (let val of message.split(',')) {\r\n                cityProps[`${cityPropMap.shift()}`] = val;\r\n            }\r\n            setCity(cityProps);\r\n\r\n            if (cityProps.hasSnow) setCitiesWithSnow(prev => ++prev);\r\n            setLoadedNumber(prev => ++prev);\r\n        } else if (message.indexOf(' results') !== -1) {\r\n            setToLoadNumber(Number(message.substring(0, message.indexOf(' '))));\r\n        } else {\r\n            setOtherMessage(message);\r\n        }\r\n    }, [message]);\r\n\r\n    const reset = () => {\r\n        setCitiesWithSnow(0);\r\n        setLoadedNumber(0);\r\n        setToLoadNumber(0);\r\n        setOtherMessage('');\r\n    }\r\n\r\n    return {\r\n        citiesWithSnow,\r\n        loadedNumber,\r\n        toLoadNumber,\r\n        otherMessage,\r\n        city,\r\n        reset\r\n    }\r\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAI1C;AAED,MAAMC,WAAqB,GAAG,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,QAAQ,CAAC;AAEzF,eAAe,SAASC,kBAAkBA,CAAEC,KAA8B,EAAE;EAAAC,EAAA;EAExE,MAAM;IAAEC;EAAQ,CAAC,GAAGF,KAAK;EAEzB,MAAM,CAACG,cAAc,EAAEC,iBAAiB,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAM,CAACQ,YAAY,EAAEC,eAAe,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAACU,YAAY,EAAEC,eAAe,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAACY,YAAY,EAAEC,eAAe,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACc,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEpCD,SAAS,CAAC,MAAM;IACZ,IAAIM,OAAO,CAAC,CAAC,CAAC,KAAK,GAAG,IAAIA,OAAO,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;MAC1C,MAAMW,SAAc,GAAG,CAAC,CAAC;MACzB,KAAK,IAAIC,GAAG,IAAIZ,OAAO,CAACa,KAAK,CAAC,GAAG,CAAC,EAAE;QAChCF,SAAS,CAAE,GAAEf,WAAW,CAACkB,KAAK,EAAG,EAAC,CAAC,GAAGF,GAAG;MAC7C;MACAF,OAAO,CAACC,SAAS,CAAC;MAElB,IAAIA,SAAS,CAACI,OAAO,EAAEb,iBAAiB,CAACc,IAAI,IAAI,EAAEA,IAAI,CAAC;MACxDZ,eAAe,CAACY,IAAI,IAAI,EAAEA,IAAI,CAAC;IACnC,CAAC,MAAM,IAAIhB,OAAO,CAACiB,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE;MAC3CX,eAAe,CAACY,MAAM,CAAClB,OAAO,CAACmB,SAAS,CAAC,CAAC,EAAEnB,OAAO,CAACiB,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACvE,CAAC,MAAM;MACHT,eAAe,CAACR,OAAO,CAAC;IAC5B;EACJ,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEb,MAAMoB,KAAK,GAAGA,CAAA,KAAM;IAChBlB,iBAAiB,CAAC,CAAC,CAAC;IACpBE,eAAe,CAAC,CAAC,CAAC;IAClBE,eAAe,CAAC,CAAC,CAAC;IAClBE,eAAe,CAAC,EAAE,CAAC;EACvB,CAAC;EAED,OAAO;IACHP,cAAc;IACdE,YAAY;IACZE,YAAY;IACZE,YAAY;IACZE,IAAI;IACJW;EACJ,CAAC;AACL;AAACrB,EAAA,CA1CuBF,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}