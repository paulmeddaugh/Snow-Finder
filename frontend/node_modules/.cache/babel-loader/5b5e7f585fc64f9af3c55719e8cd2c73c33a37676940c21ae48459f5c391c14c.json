{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport SockJS from 'sockjs-client';\nimport { Stomp } from \"@stomp/stompjs\";\nexport default function useStomp(connectionUrl) {\n  _s();\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    const socket = new SockJS(connectionUrl);\n    const stompClient = Stomp.over(socket);\n    stompClient.connect({}, function () {\n      stompClient.subscribe('/results/snow', function (greeting) {\n        setMessage(JSON.parse(greeting.body).city);\n      });\n    });\n  }, [connectionUrl]);\n  return {\n    message\n  };\n}\n_s(useStomp, \"3v4ozrfWvlmZ97O5zgyhgDZKC+M=\");","map":{"version":3,"names":["useEffect","useState","SockJS","Stomp","useStomp","connectionUrl","_s","message","setMessage","socket","stompClient","over","connect","subscribe","greeting","JSON","parse","body","city"],"sources":["C:/Users/paulm/Documents/Local Programming/Websites/SnowFinder/frontend/src/hooks/useStomp.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport SockJS from 'sockjs-client';\r\nimport { Stomp } from \"@stomp/stompjs\"\r\n\r\nexport default function useStomp(connectionUrl: string) {\r\n    const [message, setMessage] = useState('');\r\n\r\n    useEffect(() => {\r\n        const socket = new SockJS(connectionUrl);\r\n        const stompClient = Stomp.over(socket);\r\n        stompClient.connect({}, function () {\r\n            stompClient.subscribe('/results/snow', function (greeting) {\r\n                setMessage(JSON.parse(greeting.body).city);\r\n            });\r\n        });\r\n    }, [connectionUrl]);\r\n\r\n    return {\r\n        message\r\n    }\r\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,MAAM,MAAM,eAAe;AAClC,SAASC,KAAK,QAAQ,gBAAgB;AAEtC,eAAe,SAASC,QAAQA,CAACC,aAAqB,EAAE;EAAAC,EAAA;EACpD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAE1CD,SAAS,CAAC,MAAM;IACZ,MAAMS,MAAM,GAAG,IAAIP,MAAM,CAACG,aAAa,CAAC;IACxC,MAAMK,WAAW,GAAGP,KAAK,CAACQ,IAAI,CAACF,MAAM,CAAC;IACtCC,WAAW,CAACE,OAAO,CAAC,CAAC,CAAC,EAAE,YAAY;MAChCF,WAAW,CAACG,SAAS,CAAC,eAAe,EAAE,UAAUC,QAAQ,EAAE;QACvDN,UAAU,CAACO,IAAI,CAACC,KAAK,CAACF,QAAQ,CAACG,IAAI,CAAC,CAACC,IAAI,CAAC;MAC9C,CAAC,CAAC;IACN,CAAC,CAAC;EACN,CAAC,EAAE,CAACb,aAAa,CAAC,CAAC;EAEnB,OAAO;IACHE;EACJ,CAAC;AACL;AAACD,EAAA,CAhBuBF,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}