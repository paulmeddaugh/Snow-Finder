{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport CityResponse from \"../classes/CityResponse\";\n;\nconst cityPropMap = ['hasSnow', 'name', 'state', 'snowDepth', 'temp', 'distanceAway'];\nexport default function useLoadSnowResults(props) {\n  _s();\n  const {\n    message\n  } = props;\n  const [citiesWithSnow, setCitiesWithSnow] = useState(0);\n  const [loadedNumber, setLoadedNumber] = useState(0);\n  const [toLoadNumber, setToLoadNumber] = useState(0);\n  const [otherMessage, setOtherMessage] = useState('');\n  const [city, setCity] = useState(new CityResponse());\n  useEffect(() => {\n    console.log(message);\n    if (message[0] === 'X' || message[0] === 'O') {\n      const m = message,\n        cityProps = new CityResponse(Boolean(m[0]), m[1], m[2], Number(m[3]), Number(m[4]), Number(m[5]));\n      setCity(cityProps);\n      if (cityProps.hasSnow) setCitiesWithSnow(prev => ++prev);\n      setLoadedNumber(prev => ++prev);\n    } else if (message.indexOf(' results') !== -1) {\n      setToLoadNumber(Number(message.substring(0, message.indexOf(' '))));\n    } else {\n      setOtherMessage(message);\n    }\n  }, [message]);\n  const reset = () => {\n    setCitiesWithSnow(0);\n    setLoadedNumber(0);\n    setToLoadNumber(0);\n    setOtherMessage('');\n  };\n  return {\n    citiesWithSnow,\n    loadedNumber,\n    toLoadNumber,\n    otherMessage,\n    city,\n    reset\n  };\n}\n_s(useLoadSnowResults, \"3RYpz+1+vDIthDRTNqZfMZHSjHc=\");","map":{"version":3,"names":["useEffect","useState","CityResponse","cityPropMap","useLoadSnowResults","props","_s","message","citiesWithSnow","setCitiesWithSnow","loadedNumber","setLoadedNumber","toLoadNumber","setToLoadNumber","otherMessage","setOtherMessage","city","setCity","console","log","m","cityProps","Boolean","Number","hasSnow","prev","indexOf","substring","reset"],"sources":["C:/Users/paulm/Documents/Local Programming/Websites/SnowFinder/frontend/src/hooks/useLoadSnowResults.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport CityResponse from \"../classes/CityResponse\";\r\n\r\ninterface useLoadSnowResultsProps {\r\n    message: string;\r\n};\r\n\r\nconst cityPropMap: string[] = ['hasSnow', 'name', 'state', 'snowDepth', 'temp', 'distanceAway'];\r\n\r\nexport default function useLoadSnowResults (props: useLoadSnowResultsProps) {\r\n\r\n    const { message } = props;\r\n\r\n    const [citiesWithSnow, setCitiesWithSnow] = useState(0);\r\n    const [loadedNumber, setLoadedNumber] = useState(0);\r\n    const [toLoadNumber, setToLoadNumber] = useState(0);\r\n    const [otherMessage, setOtherMessage] = useState('');\r\n    const [city, setCity] = useState(new CityResponse());\r\n\r\n    useEffect(() => {\r\n\r\n        console.log(message);\r\n\r\n        if (message[0] === 'X' || message[0] === 'O') {\r\n            const m = message, cityProps = new CityResponse(\r\n                Boolean(m[0]), m[1], m[2], Number(m[3]), Number(m[4]), Number(m[5])\r\n            );\r\n            setCity(cityProps);\r\n\r\n            if (cityProps.hasSnow) setCitiesWithSnow(prev => ++prev);\r\n            setLoadedNumber(prev => ++prev);\r\n        } else if (message.indexOf(' results') !== -1) {\r\n            setToLoadNumber(Number(message.substring(0, message.indexOf(' '))));\r\n        } else {\r\n            setOtherMessage(message);\r\n        }\r\n    }, [message]);\r\n\r\n    const reset = () => {\r\n        setCitiesWithSnow(0);\r\n        setLoadedNumber(0);\r\n        setToLoadNumber(0);\r\n        setOtherMessage('');\r\n    }\r\n\r\n    return {\r\n        citiesWithSnow,\r\n        loadedNumber,\r\n        toLoadNumber,\r\n        otherMessage,\r\n        city,\r\n        reset\r\n    }\r\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,YAAY,MAAM,yBAAyB;AAIjD;AAED,MAAMC,WAAqB,GAAG,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,cAAc,CAAC;AAE/F,eAAe,SAASC,kBAAkBA,CAAEC,KAA8B,EAAE;EAAAC,EAAA;EAExE,MAAM;IAAEC;EAAQ,CAAC,GAAGF,KAAK;EAEzB,MAAM,CAACG,cAAc,EAAEC,iBAAiB,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAM,CAACS,YAAY,EAAEC,eAAe,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAACW,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAACa,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACe,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,IAAIC,YAAY,EAAE,CAAC;EAEpDF,SAAS,CAAC,MAAM;IAEZkB,OAAO,CAACC,GAAG,CAACZ,OAAO,CAAC;IAEpB,IAAIA,OAAO,CAAC,CAAC,CAAC,KAAK,GAAG,IAAIA,OAAO,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;MAC1C,MAAMa,CAAC,GAAGb,OAAO;QAAEc,SAAS,GAAG,IAAInB,YAAY,CAC3CoB,OAAO,CAACF,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEG,MAAM,CAACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEG,MAAM,CAACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEG,MAAM,CAACH,CAAC,CAAC,CAAC,CAAC,CAAC,CACtE;MACDH,OAAO,CAACI,SAAS,CAAC;MAElB,IAAIA,SAAS,CAACG,OAAO,EAAEf,iBAAiB,CAACgB,IAAI,IAAI,EAAEA,IAAI,CAAC;MACxDd,eAAe,CAACc,IAAI,IAAI,EAAEA,IAAI,CAAC;IACnC,CAAC,MAAM,IAAIlB,OAAO,CAACmB,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE;MAC3Cb,eAAe,CAACU,MAAM,CAAChB,OAAO,CAACoB,SAAS,CAAC,CAAC,EAAEpB,OAAO,CAACmB,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACvE,CAAC,MAAM;MACHX,eAAe,CAACR,OAAO,CAAC;IAC5B;EACJ,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEb,MAAMqB,KAAK,GAAGA,CAAA,KAAM;IAChBnB,iBAAiB,CAAC,CAAC,CAAC;IACpBE,eAAe,CAAC,CAAC,CAAC;IAClBE,eAAe,CAAC,CAAC,CAAC;IAClBE,eAAe,CAAC,EAAE,CAAC;EACvB,CAAC;EAED,OAAO;IACHP,cAAc;IACdE,YAAY;IACZE,YAAY;IACZE,YAAY;IACZE,IAAI;IACJY;EACJ,CAAC;AACL;AAACtB,EAAA,CA5CuBF,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}